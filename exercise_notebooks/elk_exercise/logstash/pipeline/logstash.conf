input {
	tcp {
		port => 5001
	}
}

## Add your filters / logstash plugins configuration here
# https://www.elastic.co/guide/en/logstash/current/plugins-filters-json.html
filter
{
 grok{
 match => {"message" => "%{TIMESTAMP_ISO8601:timestamp} %{LOGLEVEL:log-level}-%{GREEDYDATA:message}"}
 }
    date {
    match => ["timestamp", "ISO8601"]
  }
}

output {
	elasticsearch {
		hosts => "elasticsearch:9200"
		user => "elastic"
		password => "changeme"
 		index => "index_name"
 		}
	stdout{codec => rubydebug}
}